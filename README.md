# ๐ ุชุณฺฉ ุจุฑูุงููโููุณ ุจฺฉโุงูุฏ ูุงุฑุงูู

## ๐ฏ ูุฏู  
ุงุฑุฒุงุจ ุชูุงูุง ุจุฑูุงููโููุณ ุฏุฑ ุงุณุชูุงุฏู ุจููู ุงุฒ **Eloquent ORM** ุจุฑุง ุงุฌุงุฏ APIูุง ุชูุฒุ ุณุงุฎุชุงุฑููุฏ ู ุจูููุ ุจุง ุชูุฑฺฉุฒ ุจุฑ ุงุณุชูุงุฏู ุงุฒ **JOIN ุฏุฑ Eloquent** ู **Eager Loading**.

---

## ๐ ุชูุถุญุงุช ุชุณฺฉ  
ูุทูุงู ฺฉ API ุฏุฑ ูุงุฑุงูู ุชูุณุนู ุฏูุฏ ฺฉู ูุงุจูุชโูุง ุฒุฑ ุฑุง ุฏุงุดุชู ุจุงุดุฏ:

1. **ุงุฌุงุฏ (POST)** ฺฉ ูพฺฉุฌ ูุณุงูุฑุช ุจุง ุงุนุชุจุงุฑุณูุฌ ููุงุณุจ.
2. **ุฏุฑุงูุช (GET)** ูุณุช ูพฺฉุฌโูุง ูุณุงูุฑุช ููุฑุงู ุจุง ุฌุฒุฆุงุช ุฑุฒุฑููุง ุจุง ุงุณุชูุงุฏู ุงุฒ **JOIN** ุฏุฑ Eloquent ู **Eager Loading**.
3. ูพุงุณุฎโูุง ุจุงุฏ ุฏุฑ ูุงูุจ **JSON** ุจุงุฒฺฏุฑุฏุงูุฏู ุดููุฏ.
4. ุงุทูุงุนุงุช ุจุงุฏ ุฏุฑ ูพุงฺฏุงูโุฏุงุฏู ุฐุฎุฑู ุดููุฏ.
5. ูุณุชูุฏ ููุฌูุฏ ุฏุฑ [ุงู ููฺฉ](https://platform.neshan.org/api/reverse-geocoding/) ุฑุง ูุทุงูุนู ฺฉุฑุฏู ู ุฏุฑ ุจุฑูุงูู ฺฉ endpoint ุจุณุงุฒุฏ ฺฉู:
   - ูุฎุชุตุงุช ุซุงุจุช `lat=35.6892` ู `lng=51.3890` ุฑุง ุจู ุณุฑูุณ ุงุฑุณุงู ฺฉูุฏ.
   - ุฎุฑูุฌ ุฏุฑุงูุช ุฑุง ุฏุฑ ูุงูุจ ฺฉ ูุงู ูุชู ุจุง ูุงู `output.json` ุฏุฑ **ุฑุดู ูพุฑูฺู** (`base_path()`) ุฐุฎุฑู ฺฉูุฏ.
   - ุงุฒ API Key ุฒุฑ ุงุณุชูุงุฏู ุดูุฏ:

     ```
     service.515c4e65c6284d9bb3c7a5120c03f960
     ```

6. **ุชูุฌู:** ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ API ูุฌุฒุง ุจุฑุง ุซุจุช ุง ูุฏุฑุช ุฑุฒุฑููุง (Booking) ูุณุช. ููุท ฺฉุงู ุงุณุช ุงุทูุงุนุงุช ุฑุฒุฑููุง ุงุฒ ุทุฑู ุงุฑุชุจุงุท ุจุง ูุฏู `TravelPackage` ููุงุด ุฏุงุฏู ุดูุฏ.
7. **ุชุณฺฉ ุงุฎุชุงุฑ:** ููุดุชู ููุช ุชุณุช ุจุฑุง ฺฉ ุง ฺูุฏ ฺฉูุชุฑูุฑ/ุณุฑูุณ (ูุซูุงู: TravelPackageController ุง GeoService) ุงูุชุงุฒ ูฺู ุฏุงุฑุฏ.

---

## ๐๏ธ ุณุงุฎุชุงุฑ ูพุงฺฏุงูโุฏุงุฏู (MySQL)

### ุฌุฏูู travel_packages

- `id` (ฺฉูุฏ ุงุตู)
- `name` (ุฑุดุชู) - ูุงู ูพฺฉุฌ (ูุซูุงู "ุชูุฑ ุงุณุชุงูุจูู")
- `price` (ุงุนุดุงุฑ) - ููุช ูพฺฉุฌ
- `location` (ุฑุดุชู) - ููุตุฏ
- `created_at` ู `updated_at` (ุชุงุฑุฎ ู ุฒูุงู)

### ุฌุฏูู bookings

- `id` (ฺฉูุฏ ุงุตู)
- `package_id` (ฺฉูุฏ ุฎุงุฑุฌ โ travel_packages)
- `customer_name` (ุฑุดุชู)
- `customer_email` (ุฑุดุชู)
- `travel_date` (ุชุงุฑุฎ)
- `created_at` ู `updated_at` (ุชุงุฑุฎ ู ุฒูุงู)

---

## ๐ก ุงูุฒุงูุงุช

- ุงุณุชูุงุฏู ุงุฒ **Eloquent ORM** (ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ฺฉูุฆุฑโูุง SQL ุฎุงู).
- ุชุนุฑู ุฑูุงุจุท ุฏุฑ ูุฏูโูุง:
  - ุฏุฑ ูุฏู `TravelPackage` ูุชุฏ `bookings()` ุจุฑุง ุงุฑุชุจุงุท ฺฉ ุจู ฺูุฏ.
  - ุฏุฑ ูุฏู `Booking` ูุชุฏ `travelPackage()` ุจุฑุง ุงุฑุชุจุงุท ุจูุนฺฉุณ.
- ุงุณุชูุงุฏู ุงุฒ `with` ู `withCount` ุจุฑุง Eager Loading ู ุจูููโุณุงุฒ ฺฉูุฆุฑโูุง.
- ูุชุฏ GET ุจุงุฏ ุงุทูุงุนุงุช ุฒุฑ ุฑุง ุจุงุฒฺฏุฑุฏุงูุฏ:
  - ูุงู ูพฺฉุฌุ ููุชุ ููุตุฏ
  - ุชุนุฏุงุฏ ุฑุฒุฑููุง (`total_bookings`)
  - ูุดุฎุตุงุช ูุณุงูุฑุงู (ูุงู ู ุงูู) - ุงุฒ ุทุฑู JOIN ุฏุฑ Eloquent
- ุงฺฏุฑ ูพฺฉุฌ ุฑุฒุฑู ูุฏุงุดุชู ุจุงุดุฏุ ููุฏุงุฑ `customers` ุจุงุฏ ุขุฑุงู ุฎุงู `[]` ุจุงุดุฏ.

---

## ๐ข ููููู ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ

```json
[
  {
    "id": 1,
    "name": "ุชูุฑ ุงุณุชุงูุจูู",
    "price": 1200,
    "location": "ุชุฑฺฉู",
    "total_bookings": 3,
    "customers": [
      { "customer_name": "ุนู ุฑุถุง", "customer_email": "ali@example.com" },
      { "customer_name": "ุฒูุฑุง ุงุญูุฏ", "customer_email": "zahra@example.com" }
    ]
  }
]
